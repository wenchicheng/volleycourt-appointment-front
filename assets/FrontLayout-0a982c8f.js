import{_ as ae}from"./RegisterComp-ca039673.js";import{_ as le}from"./LoginComp-2ae22daf.js";import{p as k,m as M,a as Y,g as T,u as w,c as a,b as oe,d as se,e as G,f as J,h as K,t as P,i as ne,j as re,k as Q,l as ie,n as ue,s as p,o as V,q as ce,V as de,r as D,v as A,w as ve,x as B,y as me,z as R,A as ge,B as fe,C as be,D as he,E as Ve,F as ye,G as L,H as _e,I as xe,J as U,K as Se,L as pe,M as Be,N as ke,O as Te,P as we,Q as Ce,R as Ie,S as Ne,T as Pe,U as Le,W as Ae,_ as Re,X as Ee,Y as $e,Z as Ue,$ as W,a0 as S,a1 as F,a2 as u,a3 as He,a4 as De,a5 as j,a6 as H,a7 as Fe,a8 as z,a9 as E,aa as N,ab as je,ac as ze,ad as Me,ae as $,af as Ye,ag as We,ah as Xe,ai as qe}from"./index-fc950cf0.js";import{V as Oe,a as Ge}from"./VNavigationDrawer-b6e49d7b.js";import{u as Je}from"./ssrBoot-8ea62140.js";import{V as Ke,a as Qe,b as Ze}from"./VList-7c94dd58.js";import{V as et,a as X,b as tt,c as q}from"./VTabs-95cb1441.js";import{V as at}from"./VContainer-2bf56397.js";import"./index-cc3d218e.js";import"./index.esm-195823e1.js";import"./vee-validate.esm-ca539efa.js";import"./VRow-e02eb952.js";import"./VCol-eebdc897.js";import"./VDivider-1e8d71a5.js";import"./VSlideGroup-bc2fc257.js";const Z=k({text:String,...M(),...Y()},"VToolbarTitle"),ee=T()({name:"VToolbarTitle",props:Z(),setup(e,c){let{slots:t}=c;return w(()=>{const m=!!(t.default||t.text||e.text);return a(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var r;return[m&&a("div",{class:"v-toolbar-title__placeholder"},[t.text?t.text():e.text,(r=t.default)==null?void 0:r.call(t)])]}})}),{}}}),lt=[null,"prominent","default","comfortable","compact"],te=k({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>lt.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...oe(),...M(),...se(),...G(),...Y({tag:"header"}),...J()},"VToolbar"),O=T()({name:"VToolbar",props:te(),setup(e,c){var o;let{slots:t}=c;const{backgroundColorClasses:m,backgroundColorStyles:r}=K(P(e,"color")),{borderClasses:l}=ne(e),{elevationClasses:g}=re(e),{roundedClasses:b}=Q(e),{themeClasses:f}=ie(e),{rtlClasses:_}=ue(),s=p(!!(e.extended||(o=t.extension)!=null&&o.call(t))),y=V(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),v=V(()=>s.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return ce({VBtn:{variant:"text"}}),w(()=>{var i;const d=!!(e.title||t.title),h=!!(t.image||e.image),n=(i=t.extension)==null?void 0:i.call(t);return s.value=!!(e.extended||n),a(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},m.value,l.value,g.value,b.value,f.value,_.value,e.class],style:[r.value,e.style]},{default:()=>[h&&a("div",{key:"image",class:"v-toolbar__image"},[t.image?a(D,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},t.image):a(de,{key:"image-img",cover:!0,src:e.image},null)]),a(D,{defaults:{VTabs:{height:A(y.value)}}},{default:()=>{var x,C,I;return[a("div",{class:"v-toolbar__content",style:{height:A(y.value)}},[t.prepend&&a("div",{class:"v-toolbar__prepend"},[(x=t.prepend)==null?void 0:x.call(t)]),d&&a(ee,{key:"title",text:e.title},{text:t.title}),(C=t.default)==null?void 0:C.call(t),t.append&&a("div",{class:"v-toolbar__append"},[(I=t.append)==null?void 0:I.call(t)])])]}}),a(D,{defaults:{VTabs:{height:A(v.value)}}},{default:()=>[a(ve,null,{default:()=>[s.value&&a("div",{class:"v-toolbar__extension",style:{height:A(v.value)}},[n])]})]})]})}),{contentHeight:y,extensionHeight:v}}}),ot=k({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function st(e){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:t}=c;let m=0;const r=B(null),l=p(0),g=p(0),b=p(0),f=p(!1),_=p(!1),s=V(()=>Number(e.scrollThreshold)),y=V(()=>me((s.value-l.value)/s.value||0)),v=()=>{const o=r.value;!o||t&&!t.value||(m=l.value,l.value="window"in o?o.pageYOffset:o.scrollTop,_.value=l.value<m,b.value=Math.abs(l.value-s.value))};return R(_,()=>{g.value=g.value||l.value}),R(f,()=>{g.value=0}),ge(()=>{R(()=>e.scrollTarget,o=>{var h;const d=o?document.querySelector(o):window;d&&d!==r.value&&((h=r.value)==null||h.removeEventListener("scroll",v),r.value=d,r.value.addEventListener("scroll",v,{passive:!0}))},{immediate:!0})}),fe(()=>{var o;(o=r.value)==null||o.removeEventListener("scroll",v)}),t&&R(t,v,{immediate:!0}),{scrollThreshold:s,currentScroll:l,currentThreshold:b,isScrollActive:f,scrollRatio:y,isScrollingUp:_,savedScroll:g}}const nt=k({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...te(),...be(),...ot(),height:{type:[Number,String],default:64}},"VAppBar"),rt=T()({name:"VAppBar",props:nt(),emits:{"update:modelValue":e=>!0},setup(e,c){let{slots:t}=c;const m=B(),r=he(e,"modelValue"),l=V(()=>{var x;const i=new Set(((x=e.scrollBehavior)==null?void 0:x.split(" "))??[]);return{hide:i.has("hide"),inverted:i.has("inverted"),collapse:i.has("collapse"),elevate:i.has("elevate"),fadeImage:i.has("fade-image")}}),g=V(()=>{const i=l.value;return i.hide||i.inverted||i.collapse||i.elevate||i.fadeImage||!r.value}),{currentScroll:b,scrollThreshold:f,isScrollingUp:_,scrollRatio:s}=st(e,{canScroll:g}),y=V(()=>e.collapse||l.value.collapse&&(l.value.inverted?s.value>0:s.value===0)),v=V(()=>e.flat||l.value.elevate&&(l.value.inverted?b.value>0:b.value===0)),o=V(()=>l.value.fadeImage?l.value.inverted?1-s.value:s.value:void 0),d=V(()=>{var C,I;if(l.value.hide&&l.value.inverted)return 0;const i=((C=m.value)==null?void 0:C.contentHeight)??0,x=((I=m.value)==null?void 0:I.extensionHeight)??0;return i+x});Ve(V(()=>!!e.scrollBehavior),()=>{_e(()=>{l.value.hide?l.value.inverted?r.value=b.value>f.value:r.value=_.value||b.value<f.value:r.value=!0})});const{ssrBootStyles:h}=Je(),{layoutItemStyles:n}=ye({id:e.name,order:V(()=>parseInt(e.order,10)),position:P(e,"location"),layoutSize:d,elementSize:p(void 0),active:r,absolute:P(e,"absolute")});return w(()=>{const i=O.filterProps(e);return a(O,L({ref:m,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...n.value,"--v-toolbar-image-opacity":o.value,height:void 0,...h.value},e.style]},i,{collapse:y.value,flat:v.value}),t)}),{}}}),it=k({...xe({icon:"$menu",variant:"text"})},"VAppBarNavIcon"),ut=T()({name:"VAppBarNavIcon",props:it(),setup(e,c){let{slots:t}=c;return w(()=>a(U,L(e,{class:["v-app-bar-nav-icon"]}),t)),{}}}),ct=T()({name:"VAppBarTitle",props:Z(),setup(e,c){let{slots:t}=c;return w(()=>a(ee,L(e,{class:"v-app-bar-title"}),t)),{}}});const dt=k({bordered:Boolean,color:String,content:[Number,String],dot:Boolean,floating:Boolean,icon:Se,inline:Boolean,label:{type:String,default:"$vuetify.badge"},max:[Number,String],modelValue:{type:Boolean,default:!0},offsetX:[Number,String],offsetY:[Number,String],textColor:String,...M(),...pe({location:"top end"}),...G(),...Y(),...J(),...Be({transition:"scale-rotate-transition"})},"VBadge"),vt=T()({name:"VBadge",inheritAttrs:!1,props:dt(),setup(e,c){const{backgroundColorClasses:t,backgroundColorStyles:m}=K(P(e,"color")),{roundedClasses:r}=Q(e),{t:l}=ke(),{textColorClasses:g,textColorStyles:b}=Te(P(e,"textColor")),{themeClasses:f}=we(),{locationStyles:_}=Ce(e,!0,s=>(e.floating?e.dot?2:4:e.dot?8:12)+(["top","bottom"].includes(s)?+(e.offsetY??0):["left","right"].includes(s)?+(e.offsetX??0):0));return w(()=>{const s=Number(e.content),y=!e.max||isNaN(s)?e.content:s<=+e.max?s:`${e.max}+`,[v,o]=Ie(c.attrs,["aria-atomic","aria-label","aria-live","role","title"]);return a(e.tag,L({class:["v-badge",{"v-badge--bordered":e.bordered,"v-badge--dot":e.dot,"v-badge--floating":e.floating,"v-badge--inline":e.inline},e.class]},o,{style:e.style}),{default:()=>{var d,h;return[a("div",{class:"v-badge__wrapper"},[(h=(d=c.slots).default)==null?void 0:h.call(d),a(Ne,{transition:e.transition},{default:()=>{var n,i;return[Pe(a("span",L({class:["v-badge__badge",f.value,t.value,r.value,g.value],style:[m.value,b.value,e.inline?{}:_.value],"aria-atomic":"true","aria-label":l(e.label,s),"aria-live":"polite",role:"status"},v),[e.dot?void 0:c.slots.badge?(i=(n=c.slots).badge)==null?void 0:i.call(n):e.icon?a(Ae,{icon:e.icon},null):y]),[[Le,e.modelValue]])]}})])]}})}),{}}}),mt="/volleycourt-appointment-front/assets/logo-05-404fdc65.png";const gt=e=>(We("data-v-9eb86877"),e=e(),Xe(),e),ft={class:"drawer-btn-box"},bt={class:"d-flex justify-center mt-2 mb-4"},ht={class:"d-flex justify-center mt-2 mb-4"},Vt=gt(()=>H("img",{src:mt,alt:"一起來打排",style:{height:"40px"}},null,-1)),yt={__name:"FrontLayout",setup(e){const c=B(!1),{apiAuth:t}=qe(),m=Ee(),r=$e(),l=Ue(),g=B("login"),b=V(()=>[{to:"/about",text:"場館介紹",show:!0},{to:"/news",text:"最新消息",show:!0},{to:"/appointment",text:"預約報名",show:!0},{to:"/myappointment",text:"我的預約",show:l.isLogin},{to:"/shop",text:"排球選物",show:l.isLogin},{to:"/cart",text:"購物車",icon:"mdi-cart",show:l.isLogin},{to:"/admin",text:"後台管理",show:l.isLogin&&l.isAdmin}]),f=B(!1),_=()=>{window.scrollY>100?f.value=!0:f.value=!1};window.addEventListener("scroll",_);const s=B(!1),y=async()=>{var v,o;try{await t.delete("/users/logout"),l.logout(),m({text:"登出成功",showCloseButton:!1,snackbarProps:{color:"success",timeout:2e3,location:"bottom"}}),r.push("/")}catch(d){console.log(d);const h=((o=(v=d==null?void 0:d.response)==null?void 0:v.data)==null?void 0:o.message)||"發生錯誤，請稍後再試";m({text:h,showCloseButton:!1,snackbarProps:{color:"error",timeout:2e3,location:"top"}})}};return(v,o)=>{const d=W("router-link"),h=W("RouterView");return S(),F(j,null,[a(Oe,{modelValue:s.value,"onUpdate:modelValue":o[4]||(o[4]=n=>s.value=n),temporary:"",location:"right"},{default:u(()=>[H("div",ft,[a(U,{onClick:o[0]||(o[0]=n=>s.value=!1),class:"close-btn",icon:"mdi-close",size:"large"})]),a(Ke,{class:"v-list-centered"},{default:u(()=>[(S(!0),F(j,null,Fe(b.value,n=>(S(),F(j,{key:n.to},[n.show?(S(),E(Qe,{key:0,to:n.to,class:"d-flex align-center justify-center"},{default:u(()=>[a(Ze,{class:"list-title"},{default:u(()=>[N(Ye(n.text)+" ",1),n.to==="/cart"?(S(),E(vt,{key:0,content:z(l).cart,color:"rgb(26, 108, 163)",inline:"",class:"badge"},null,8,["content"])):$("",!0)]),_:2},1024)]),_:2},1032,["to"])):$("",!0)],64))),128)),H("div",bt,[z(l).isLogin?$("",!0):(S(),E(U,{key:0,class:"d-flex align-center justify-center login"},{default:u(()=>[N("登入 "),a(je,{activator:"parent",modelValue:c.value,"onUpdate:modelValue":o[3]||(o[3]=n=>c.value=n),transition:"dialog-top-transition",width:"600"},{default:u(()=>[a(ze,null,{default:u(()=>[a(et,{modelValue:g.value,"onUpdate:modelValue":o[1]||(o[1]=n=>g.value=n),color:"rgb(26, 108, 163)",class:"list-title","fixed-tabs":""},{default:u(()=>[a(X,{value:"login"},{default:u(()=>[N("登入")]),_:1}),a(X,{value:"register"},{default:u(()=>[N("註冊")]),_:1})]),_:1},8,["modelValue"]),a(Me,null,{default:u(()=>[a(tt,{modelValue:g.value,"onUpdate:modelValue":o[2]||(o[2]=n=>g.value=n)},{default:u(()=>[a(q,{value:"login"},{default:u(()=>[a(le)]),_:1}),a(q,{value:"register"},{default:u(()=>[a(ae)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}))]),H("div",ht,[z(l).isLogin?(S(),E(U,{key:0,onClick:y,class:"d-flex align-center justify-center logout"},{default:u(()=>[N(" 登出 ")]),_:1})):$("",!0)])]),_:1})]),_:1},8,["modelValue"]),a(rt,{elevation:0,class:He({navbar:f.value}),style:De({backgroundColor:f.value?"rgba(224, 236, 246, 1)":"rgba(224, 236, 246, 0)"})},{default:u(()=>[a(at,{class:"d-flex align-center"},{default:u(()=>[a(d,{to:"/"},{default:u(()=>[a(ct,null,{default:u(()=>[Vt]),_:1})]),_:1})]),_:1}),a(ut,{onClick:o[5]||(o[5]=n=>s.value=!0),class:"menu-btn"})]),_:1},8,["class","style"]),a(Ge,null,{default:u(()=>[a(h)]),_:1})],64)}}},Et=Re(yt,[["__scopeId","data-v-9eb86877"]]);export{Et as default};
